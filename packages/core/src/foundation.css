@layer reset, tokens, base, layouts, components, utilities, motion, overrides;

@layer reset {
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  * {
    margin: 0;
  }
  
  html, body {
    height: 100%;
  }
  
  body {
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
  }
  
  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
  }
  
  input, button, textarea, select {
    font: inherit;
  }
  
  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
  }
}

@layer tokens {
  :root {
    --cascade-color-blue-50: oklch(0.95 0.02 250);
    --cascade-color-blue-100: oklch(0.90 0.04 250);
    --cascade-color-blue-500: oklch(0.637 0.237 25.331);
    --cascade-color-blue-900: oklch(0.30 0.15 250);
    --cascade-color-primary: oklch(0.637 0.237 25.331);
    --cascade-space-scale: 1.5;
    --cascade-space-xs: 0.25rem;
    --cascade-space-sm: 0.5rem;
    --cascade-space-md: calc(1rem * 1.5);
    --cascade-space-lg: calc(1.5rem * 1.5);
    --cascade-space-xl: calc(2rem * 1.5);
    --cascade-motion-duration-fast: 150ms;
    --cascade-motion-duration-normal: 300ms;
    --cascade-motion-duration-slow: 600ms;
    --cascade-motion-easing-ease: cubic-bezier(0.4, 0, 0.2, 1);
    --cascade-motion-easing-easeIn: cubic-bezier(0.4, 0, 1, 1);
    --cascade-motion-easing-easeOut: cubic-bezier(0, 0, 0.2, 1);
    --cascade-motion-easing-easeInOut: cubic-bezier(0.4, 0, 0.2, 1);
    --cascade-motion-easing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    --cascade-motion-spring-default-stiffness: 300;
    --cascade-motion-spring-default-damping: 20;
    --cascade-motion-spring-default-mass: 1;
    --cascade-typography-font-family-sans: system-ui, -apple-system, sans-serif;
    --cascade-typography-font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
    --cascade-typography-font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
    --cascade-typography-font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.5rem);
    --cascade-layout-breakpoint-sm: 40rem;
    --cascade-layout-breakpoint-md: 64rem;
    --cascade-layout-breakpoint-lg: 80rem;
  }
}

@layer base {
  :root {
    font-family: var(--cascade-typography-font-family-sans);
    color: oklch(0.20 0 0);
  }
  
  body {
    font-size: var(--cascade-typography-font-size-base);
    color: inherit;
  }
}

@layer layouts {
  .stack {
    display: flex;
    flex-direction: column;
    gap: var(--stack-gap, 0);
    align-items: var(--stack-align, stretch);
  }
  
  .cluster {
    display: flex;
    flex-wrap: wrap;
    gap: var(--cluster-gap, var(--cascade-space-md));
    justify-content: var(--cluster-justify, flex-start);
  }
  
  .cluster[data-wrapping="true"] {
    justify-content: space-between;
  }
  
  .frame {
    position: relative;
    aspect-ratio: var(--frame-ratio);
  }
  
  .frame > * {
    position: absolute;
    inset: 0;
    object-fit: var(--frame-object-fit, cover);
  }
  
  .grid {
    display: grid;
    /* NOTE: container-type removed - parent elements should be containers, not Grid itself
       Container queries check the nearest ancestor container, so Grid queries its parent's size */
    width: 100%;
    min-width: 0;
    max-width: 100%;
    box-sizing: border-box;
    gap: var(--grid-gap, 0);
    grid-template-columns: var(--grid-columns, repeat(3, 1fr));
    grid-template-rows: var(--grid-rows, none);
    align-items: var(--grid-align-items, stretch);
    justify-items: var(--grid-justify-items, stretch);
    align-content: var(--grid-align-content, start);
    justify-content: var(--grid-justify-content, start);
  }
  
  /* Set initial --grid-columns from --grid-columns-base when base is set.
     This handles containers smaller than the smallest breakpoint.
     Container queries will override this when they fire.
     If --grid-columns-base is not set, this rule does nothing (--grid-columns keeps its default).
     NOTE: This rule must come BEFORE container queries so they can override it. */
  .grid {
    --grid-columns: var(--grid-columns-base);
  }
  
  @container (min-width: 20rem) {
    .grid {
      --grid-columns: var(--grid-columns-20rem, var(--grid-columns-base));
      --grid-gap: var(--grid-gap-20rem, var(--grid-gap-base));
    }
  }
  
  @container (min-width: 30rem) {
    .grid {
      --grid-columns: var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base)));
      --grid-gap: var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base)));
    }
  }
  
  @container (min-width: 40rem) {
    .grid {
      --grid-columns: var(--grid-columns-40rem, var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base))));
      --grid-gap: var(--grid-gap-40rem, var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base))));
    }
  }
  
  @container (min-width: 50rem) {
    .grid {
      --grid-columns: var(--grid-columns-50rem, var(--grid-columns-40rem, var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base)))));
      --grid-gap: var(--grid-gap-50rem, var(--grid-gap-40rem, var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base)))));
    }
  }
  
  @container (min-width: 60rem) {
    .grid {
      --grid-columns: var(--grid-columns-60rem, var(--grid-columns-50rem, var(--grid-columns-40rem, var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base))))));
      --grid-gap: var(--grid-gap-60rem, var(--grid-gap-50rem, var(--grid-gap-40rem, var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base))))));
    }
  }
  
  @container (min-width: 70rem) {
    .grid {
      --grid-columns: var(--grid-columns-70rem, var(--grid-columns-60rem, var(--grid-columns-50rem, var(--grid-columns-40rem, var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base)))))));
      --grid-gap: var(--grid-gap-70rem, var(--grid-gap-60rem, var(--grid-gap-50rem, var(--grid-gap-40rem, var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base)))))));
    }
  }
}


@layer utilities {
  .stack-align-start { align-items: flex-start; }
  .stack-align-center { align-items: center; }
  .stack-align-end { align-items: flex-end; }
  .stack-align-stretch { align-items: stretch; }
  
  .stack-justify-start { justify-content: flex-start; }
  .stack-justify-center { justify-content: center; }
  .stack-justify-end { justify-content: flex-end; }
  .stack-justify-between { justify-content: space-between; }
  
  /* Responsive overrides via data-attributes */
  @media (width >= 40rem) {
    [data-responsive*="sm:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
    [data-responsive*="sm:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
    [data-responsive*="sm:spacing-md"] { --stack-gap: var(--cascade-space-md); }
    [data-responsive*="sm:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
    [data-responsive*="sm:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
    [data-responsive*="sm:align-start"] { align-items: flex-start; }
    [data-responsive*="sm:align-center"] { align-items: center; }
    [data-responsive*="sm:align-end"] { align-items: flex-end; }
    [data-responsive*="sm:align-stretch"] { align-items: stretch; }
    [data-responsive*="sm:justify-start"] { justify-content: flex-start; }
    [data-responsive*="sm:justify-center"] { justify-content: center; }
    [data-responsive*="sm:justify-end"] { justify-content: flex-end; }
    [data-responsive*="sm:justify-between"] { justify-content: space-between; }
  }
  
  @media (width >= 64rem) {
    [data-responsive*="md:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
    [data-responsive*="md:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
    [data-responsive*="md:spacing-md"] { --stack-gap: var(--cascade-space-md); }
    [data-responsive*="md:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
    [data-responsive*="md:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
    [data-responsive*="md:align-start"] { align-items: flex-start; }
    [data-responsive*="md:align-center"] { align-items: center; }
    [data-responsive*="md:align-end"] { align-items: flex-end; }
    [data-responsive*="md:align-stretch"] { align-items: stretch; }
    [data-responsive*="md:justify-start"] { justify-content: flex-start; }
    [data-responsive*="md:justify-center"] { justify-content: center; }
    [data-responsive*="md:justify-end"] { justify-content: flex-end; }
    [data-responsive*="md:justify-between"] { justify-content: space-between; }
  }
  
  @media (width >= 80rem) {
    [data-responsive*="lg:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
    [data-responsive*="lg:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
    [data-responsive*="lg:spacing-md"] { --stack-gap: var(--cascade-space-md); }
    [data-responsive*="lg:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
    [data-responsive*="lg:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
    [data-responsive*="lg:align-start"] { align-items: flex-start; }
    [data-responsive*="lg:align-center"] { align-items: center; }
    [data-responsive*="lg:align-end"] { align-items: flex-end; }
    [data-responsive*="lg:align-stretch"] { align-items: stretch; }
    [data-responsive*="lg:justify-start"] { justify-content: flex-start; }
    [data-responsive*="lg:justify-center"] { justify-content: center; }
    [data-responsive*="lg:justify-end"] { justify-content: flex-end; }
    [data-responsive*="lg:justify-between"] { justify-content: space-between; }
  }
}

@layer motion {
  /* Motion keyframes will be generated by compiler */
}

@layer overrides {
  /* User overrides */
}

