@layer reset, tokens, base, layouts, components, utilities, motion, overrides;

@layer reset {

    *, *::before, *::after {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
    }
    
    html, body {
      height: 100%;
    }
    
    body {
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }
    
    img, picture, video, canvas, svg {
      display: block;
      max-width: 100%;
    }
    
    input, button, textarea, select {
      font: inherit;
    }
    
    p, h1, h2, h3, h4, h5, h6 {
      overflow-wrap: break-word;
    }
  
}

@layer tokens {
:root {
  --cascade-color-blue-50: oklch(0.95 0.02 250);
  --cascade-color-blue-100: oklch(0.90 0.04 250);
  --cascade-color-blue-500: oklch(0.637 0.237 25.331);
  --cascade-color-blue-900: oklch(0.30 0.15 250);
  --cascade-color-primary: oklch(0.637 0.237 25.331);
  --cascade-space-scale: 1.5;
  --cascade-space-xs: 0.25rem;
  --cascade-space-sm: 0.5rem;
  --cascade-space-md: calc(1rem * 1.5);
  --cascade-space-lg: calc(1.5rem * 1.5);
  --cascade-space-xl: calc(2rem * 1.5);
  --cascade-motion-duration-fast: 150ms;
  --cascade-motion-duration-normal: 300ms;
  --cascade-motion-duration-slow: 600ms;
  --cascade-motion-easing-ease: cubic-bezier(0.4, 0, 0.2, 1);
  --cascade-motion-easing-ease-in: cubic-bezier(0.4, 0, 1, 1);
  --cascade-motion-easing-ease-out: cubic-bezier(0, 0, 0.2, 1);
  --cascade-motion-easing-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --cascade-motion-easing-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
  --cascade-motion-spring-default-stiffness: 300;
  --cascade-motion-spring-default-damping: 20;
  --cascade-motion-spring-default-mass: 1;
  --cascade-typography-font-family-sans: system-ui, -apple-system, sans-serif;
  --cascade-typography-font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);
  --cascade-typography-font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --cascade-typography-font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.5rem);
  --cascade-layout-breakpoint-xs: 20rem;
  --cascade-layout-breakpoint-sm: 40rem;
  --cascade-layout-breakpoint-md: 64rem;
  --cascade-layout-breakpoint-lg: 80rem;
  --cascade-layout-breakpoint-xl: 90rem;
}
}

@layer base {

    :root {
      font-family: var(--cascade-typography-font-family-sans);
      color: oklch(0.20 0 0);
      --cascade-color-text: oklch(0.20 0 0);
      --cascade-color-background: oklch(1 0 0);
    }
    
    body {
      font-size: var(--cascade-typography-font-size-base);
      color: inherit;
      background: var(--cascade-color-background);
    }
    
    /* Enhanced focus indicators for accessibility */
    :focus-visible {
      outline: 2px solid var(--cascade-color-primary, oklch(0.637 0.237 25.331));
      outline-offset: 2px;
      border-radius: 2px;
    }
    
    /* Focus indicators for layout primitives */
    .grid:focus-visible,
    .sidebar:focus-visible,
    .split:focus-visible,
    .stack:focus-visible,
    .cluster:focus-visible,
    .box:focus-visible,
    .center:focus-visible,
    .flex:focus-visible,
    .switcher:focus-visible,
    .reel:focus-visible,
    .cover:focus-visible,
    .imposter:focus-visible,
    .frame:focus-visible {
      outline: 2px solid var(--cascade-color-primary, oklch(0.637 0.237 25.331));
      outline-offset: 2px;
    }
    
    /* High contrast mode support */
    @media (prefers-contrast: high) {
      :focus-visible {
        outline: 3px solid;
        outline-offset: 3px;
      }
      
      .grid:focus-visible,
      .sidebar:focus-visible,
      .split:focus-visible,
      .stack:focus-visible,
      .cluster:focus-visible,
      .box:focus-visible,
      .center:focus-visible,
      .flex:focus-visible,
      .switcher:focus-visible,
      .reel:focus-visible,
      .cover:focus-visible,
      .imposter:focus-visible,
      .frame:focus-visible {
        outline: 3px solid;
        outline-offset: 3px;
      }
      
      /* High contrast borders for layout primitives */
      .grid,
      .sidebar,
      .split,
      .stack,
      .cluster,
      .box,
      .center,
      .flex,
      .switcher,
      .reel,
      .cover,
      .imposter,
      .frame {
        border: 2px solid currentColor;
      }
    }
    
    /* Screen reader only class for live regions */
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
    
    /* Skip link support */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--cascade-color-primary, oklch(0.637 0.237 25.331));
      color: white;
      padding: 8px 16px;
      z-index: 100;
      text-decoration: none;
      border-radius: 0 0 4px 0;
    }
    
    .skip-link:focus {
      top: 0;
    }
  
}

@layer layouts {

    .stack {
      display: flex;
      flex-direction: column;
      gap: var(--stack-gap, 0);
      align-items: var(--stack-align, stretch);
      justify-content: var(--stack-justify, flex-start);
    }
    
    .cluster {
      display: flex;
      flex-wrap: wrap;
      gap: var(--cluster-gap, var(--cascade-space-md));
      justify-content: var(--cluster-justify, flex-start);
    }
    
    .cluster[data-wrapping="true"] {
      justify-content: space-between;
    }
    
    .frame {
      position: relative;
      aspect-ratio: var(--frame-ratio);
    }
    
    .frame > * {
      position: absolute;
      inset: 0;
      object-fit: var(--frame-object-fit, cover);
    }
    
    .box {
      padding: var(--box-padding, 0);
      margin: var(--box-margin, 0);
      background: var(--box-background, transparent);
      border: var(--box-border, none);
      border-radius: var(--box-border-radius, 0);
      width: var(--box-width, auto);
      height: var(--box-height, auto);
      max-width: var(--box-max-width, none);
      max-height: var(--box-max-height, none);
      min-width: var(--box-min-width, 0);
      min-height: var(--box-min-height, 0);
    }
    
    .grid {
      display: grid;
      /* NOTE: container-type removed - parent elements should be containers, not Grid itself
         Container queries check the nearest ancestor container, so Grid queries its parent's size */
      gap: var(--grid-gap, 0);
      grid-template-columns: var(--grid-columns, repeat(3, 1fr));
      grid-template-rows: var(--grid-rows, none);
      align-items: var(--grid-align-items, stretch);
      justify-items: var(--grid-justify-items, stretch);
      align-content: var(--grid-align-content, start);
      justify-content: var(--grid-justify-content, start);
    }
    
    /* Set initial --grid-columns from --grid-columns-base when base is set.
       This handles containers smaller than the smallest breakpoint.
       Container queries will override this when they fire.
       If --grid-columns-base is not set, this rule does nothing (--grid-columns keeps its default). */
    .grid {
      --grid-columns: var(--grid-columns-base);
    }
    
    
    @container (min-width: 20rem) {
      .grid {
        --grid-columns: var(--grid-columns-20rem, var(--grid-columns-base));
      }
    }

    @container (min-width: 30rem) {
      .grid {
        --grid-columns: var(--grid-columns-30rem, var(--grid-columns-20rem, var(--grid-columns-base)));
      }
    }

    @container (min-width: 40rem) {
      .grid {
        --grid-columns: var(--grid-columns-40rem, var(--grid-columns-20rem, var(--grid-columns-30rem, var(--grid-columns-base))));
      }
    }

    @container (min-width: 50rem) {
      .grid {
        --grid-columns: var(--grid-columns-50rem, var(--grid-columns-20rem, var(--grid-columns-30rem, var(--grid-columns-40rem, var(--grid-columns-base)))));
      }
    }

    @container (min-width: 60rem) {
      .grid {
        --grid-columns: var(--grid-columns-60rem, var(--grid-columns-20rem, var(--grid-columns-30rem, var(--grid-columns-40rem, var(--grid-columns-50rem, var(--grid-columns-base))))));
      }
    }

    @container (min-width: 70rem) {
      .grid {
        --grid-columns: var(--grid-columns-70rem, var(--grid-columns-20rem, var(--grid-columns-30rem, var(--grid-columns-40rem, var(--grid-columns-50rem, var(--grid-columns-60rem, var(--grid-columns-base)))))));
      }
    }
    
    @container (min-width: 20rem) {
      .grid {
        --grid-gap: var(--grid-gap-20rem, var(--grid-gap-base));
      }
    }

    @container (min-width: 30rem) {
      .grid {
        --grid-gap: var(--grid-gap-30rem, var(--grid-gap-20rem, var(--grid-gap-base)));
      }
    }

    @container (min-width: 40rem) {
      .grid {
        --grid-gap: var(--grid-gap-40rem, var(--grid-gap-20rem, var(--grid-gap-30rem, var(--grid-gap-base))));
      }
    }

    @container (min-width: 50rem) {
      .grid {
        --grid-gap: var(--grid-gap-50rem, var(--grid-gap-20rem, var(--grid-gap-30rem, var(--grid-gap-40rem, var(--grid-gap-base)))));
      }
    }

    @container (min-width: 60rem) {
      .grid {
        --grid-gap: var(--grid-gap-60rem, var(--grid-gap-20rem, var(--grid-gap-30rem, var(--grid-gap-40rem, var(--grid-gap-50rem, var(--grid-gap-base))))));
      }
    }

    @container (min-width: 70rem) {
      .grid {
        --grid-gap: var(--grid-gap-70rem, var(--grid-gap-20rem, var(--grid-gap-30rem, var(--grid-gap-40rem, var(--grid-gap-50rem, var(--grid-gap-60rem, var(--grid-gap-base)))))));
      }
    }
    
    .center {
      margin-left: auto;
      margin-right: auto;
      max-width: var(--center-max-width, 100%);
      min-height: var(--center-min-height, auto);
      padding: var(--center-padding, 0);
      text-align: var(--center-text-align, inherit);
      display: var(--center-display, block);
      align-items: var(--center-align-items, center);
      justify-content: var(--center-justify-content, center);
    }
    
    .sidebar {
      display: grid;
      container-type: inline-size;
      grid-template-columns: var(--sidebar-template-columns);
      gap: var(--sidebar-gap, 0);
      align-items: var(--sidebar-align-items, stretch);
    }
    
    .sidebar[data-side="right"] {
      grid-template-columns: var(--sidebar-template-columns);
    }
    
    
    @container (min-width: 20rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-base));
      }
    }

    @container (min-width: 30rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-30rem, var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-base)));
      }
    }

    @container (min-width: 40rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-40rem, var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-30rem, var(--sidebar-template-columns-base))));
      }
    }

    @container (min-width: 50rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-50rem, var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-30rem, var(--sidebar-template-columns-40rem, var(--sidebar-template-columns-base)))));
      }
    }

    @container (min-width: 60rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-60rem, var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-30rem, var(--sidebar-template-columns-40rem, var(--sidebar-template-columns-50rem, var(--sidebar-template-columns-base))))));
      }
    }

    @container (min-width: 70rem) {
      .sidebar {
        --sidebar-template-columns: var(--sidebar-template-columns-70rem, var(--sidebar-template-columns-20rem, var(--sidebar-template-columns-30rem, var(--sidebar-template-columns-40rem, var(--sidebar-template-columns-50rem, var(--sidebar-template-columns-60rem, var(--sidebar-template-columns-base)))))));
      }
    }
    
    @container (min-width: 20rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-20rem, var(--sidebar-gap-base));
      }
    }

    @container (min-width: 30rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-30rem, var(--sidebar-gap-20rem, var(--sidebar-gap-base)));
      }
    }

    @container (min-width: 40rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-40rem, var(--sidebar-gap-20rem, var(--sidebar-gap-30rem, var(--sidebar-gap-base))));
      }
    }

    @container (min-width: 50rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-50rem, var(--sidebar-gap-20rem, var(--sidebar-gap-30rem, var(--sidebar-gap-40rem, var(--sidebar-gap-base)))));
      }
    }

    @container (min-width: 60rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-60rem, var(--sidebar-gap-20rem, var(--sidebar-gap-30rem, var(--sidebar-gap-40rem, var(--sidebar-gap-50rem, var(--sidebar-gap-base))))));
      }
    }

    @container (min-width: 70rem) {
      .sidebar {
        --sidebar-gap: var(--sidebar-gap-70rem, var(--sidebar-gap-20rem, var(--sidebar-gap-30rem, var(--sidebar-gap-40rem, var(--sidebar-gap-50rem, var(--sidebar-gap-60rem, var(--sidebar-gap-base)))))));
      }
    }
    
    .split {
      display: flex;
      flex-direction: row;
      container-type: inline-size;
      gap: var(--split-gap, 0);
      align-items: var(--split-align, stretch);
    }
    
    /* Apply flex values to children via CSS variables */
    .split > :first-child {
      flex: var(--split-flex-first, 1) 1 0%;
    }
    
    .split > :last-child {
      flex: var(--split-flex-second, 1) 1 0%;
    }
    
    /* Special case for auto fraction */
    .split[data-fraction="auto"] > :first-child {
      flex: 0 1 auto;
    }
    
    /* Split stacking: Only apply when viewport is below threshold or container is narrow */
    /* The base rule is removed - stacking only happens via media query or container queries */
    
    
    @container (min-width: 20rem) {
      .split {
        --split-gap: var(--split-gap-20rem, var(--split-gap-base));
      }
    }

    @container (min-width: 30rem) {
      .split {
        --split-gap: var(--split-gap-30rem, var(--split-gap-20rem, var(--split-gap-base)));
      }
    }

    @container (min-width: 40rem) {
      .split {
        --split-gap: var(--split-gap-40rem, var(--split-gap-20rem, var(--split-gap-30rem, var(--split-gap-base))));
      }
    }

    @container (min-width: 50rem) {
      .split {
        --split-gap: var(--split-gap-50rem, var(--split-gap-20rem, var(--split-gap-30rem, var(--split-gap-40rem, var(--split-gap-base)))));
      }
    }

    @container (min-width: 60rem) {
      .split {
        --split-gap: var(--split-gap-60rem, var(--split-gap-20rem, var(--split-gap-30rem, var(--split-gap-40rem, var(--split-gap-50rem, var(--split-gap-base))))));
      }
    }

    @container (min-width: 70rem) {
      .split {
        --split-gap: var(--split-gap-70rem, var(--split-gap-20rem, var(--split-gap-30rem, var(--split-gap-40rem, var(--split-gap-50rem, var(--split-gap-60rem, var(--split-gap-base)))))));
      }
    }
    
    /* Stack when viewport is below threshold (default 768px) */
    @media (max-width: 768px) {
      .split[data-switch-to="stack"] {
        flex-direction: column;
      }
      
      .split[data-switch-to="stack"] > :first-child,
      .split[data-switch-to="stack"] > :last-child {
        flex: 1 1 0%;
      }
    }
    
    /* Container query support for stacking based on container size */
    @container (max-width: 40rem) {
      .split[data-switch-to="stack"] {
        flex-direction: column;
      }
      
      .split[data-switch-to="stack"] > :first-child,
      .split[data-switch-to="stack"] > :last-child {
        flex: 1 1 0%;
      }
    }
    
    .flex {
      display: flex;
      gap: var(--flex-gap, 0);
      flex-direction: var(--flex-direction, row);
      flex-wrap: var(--flex-wrap, nowrap);
      align-items: var(--flex-align-items, stretch);
      justify-content: var(--flex-justify-content, flex-start);
      align-content: var(--flex-align-content, stretch);
    }
    
    .switcher {
      display: flex;
      flex-wrap: wrap;
      gap: var(--switcher-gap, var(--cascade-space-md));
      justify-content: var(--switcher-justify, flex-start);
      flex-direction: row;
    }
    
    /* Switcher: When container is wider than threshold, items stay horizontal (row) */
    /* When narrower than threshold, items switch to vertical (column) */
    .switcher[data-below-threshold="true"] {
      flex-direction: column;
    }
    
    .switcher > * {
      flex-basis: var(--switcher-item-basis, auto);
      min-width: 0;
    }
    
    /* Switcher with limit: Items will be sized via inline styles */
    
    .reel {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      overflow-x: auto;
      overflow-y: hidden;
      gap: var(--reel-gap, var(--cascade-space-md));
      scroll-snap-type: var(--reel-snap-type, none);
      scroll-padding: var(--reel-scroll-padding, 0);
    }
    
    .reel > * {
      flex-shrink: 0 !important;
      flex-grow: 0;
    }
    
    .reel[data-snap="true"] > * {
      scroll-snap-align: var(--reel-snap-align, start);
    }
    
    .cover {
      display: flex;
      flex-direction: column;
      min-height: var(--cover-min-height, 100vh);
      padding: var(--cover-padding, 0);
    }
    
    .cover > [data-cover-header] {
      flex-shrink: 0;
    }
    
    .cover > [data-cover-centered] {
      flex: 1 1 auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .cover > [data-cover-footer] {
      flex-shrink: 0;
    }
    
    .imposter {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      margin: var(--imposter-margin, 0);
      max-width: var(--imposter-max-width, 100%);
      max-height: var(--imposter-max-height, 100%);
      overflow: auto;
    }
    
    .imposter[data-breakout="true"] {
      position: fixed;
    }
  
}

@layer components {
/* Component styles */
}

@layer utilities {

    .stack-align-start { align-items: flex-start; }
    .stack-align-center { align-items: center; }
    .stack-align-end { align-items: flex-end; }
    .stack-align-stretch { align-items: stretch; }
    
    .stack-justify-start { justify-content: flex-start; }
    .stack-justify-center { justify-content: center; }
    .stack-justify-end { justify-content: flex-end; }
    .stack-justify-between { justify-content: space-between; }
    
    /* Responsive overrides via data-attributes */
    @media (width >= 40rem) {
      [data-responsive*="sm:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
      [data-responsive*="sm:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
      [data-responsive*="sm:spacing-md"] { --stack-gap: var(--cascade-space-md); }
      [data-responsive*="sm:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
      [data-responsive*="sm:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
      [data-responsive*="sm:align-start"] { align-items: flex-start; }
      [data-responsive*="sm:align-center"] { align-items: center; }
      [data-responsive*="sm:align-end"] { align-items: flex-end; }
      [data-responsive*="sm:align-stretch"] { align-items: stretch; }
      [data-responsive*="sm:justify-start"] { justify-content: flex-start; }
      [data-responsive*="sm:justify-center"] { justify-content: center; }
      [data-responsive*="sm:justify-end"] { justify-content: flex-end; }
      [data-responsive*="sm:justify-between"] { justify-content: space-between; }
    }
    
    @media (width >= 64rem) {
      [data-responsive*="md:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
      [data-responsive*="md:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
      [data-responsive*="md:spacing-md"] { --stack-gap: var(--cascade-space-md); }
      [data-responsive*="md:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
      [data-responsive*="md:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
      [data-responsive*="md:align-start"] { align-items: flex-start; }
      [data-responsive*="md:align-center"] { align-items: center; }
      [data-responsive*="md:align-end"] { align-items: flex-end; }
      [data-responsive*="md:align-stretch"] { align-items: stretch; }
      [data-responsive*="md:justify-start"] { justify-content: flex-start; }
      [data-responsive*="md:justify-center"] { justify-content: center; }
      [data-responsive*="md:justify-end"] { justify-content: flex-end; }
      [data-responsive*="md:justify-between"] { justify-content: space-between; }
    }
    
    @media (width >= 80rem) {
      [data-responsive*="lg:spacing-xs"] { --stack-gap: var(--cascade-space-xs); }
      [data-responsive*="lg:spacing-sm"] { --stack-gap: var(--cascade-space-sm); }
      [data-responsive*="lg:spacing-md"] { --stack-gap: var(--cascade-space-md); }
      [data-responsive*="lg:spacing-lg"] { --stack-gap: var(--cascade-space-lg); }
      [data-responsive*="lg:spacing-xl"] { --stack-gap: var(--cascade-space-xl); }
      [data-responsive*="lg:align-start"] { align-items: flex-start; }
      [data-responsive*="lg:align-center"] { align-items: center; }
      [data-responsive*="lg:align-end"] { align-items: flex-end; }
      [data-responsive*="lg:align-stretch"] { align-items: stretch; }
      [data-responsive*="lg:justify-start"] { justify-content: flex-start; }
      [data-responsive*="lg:justify-center"] { justify-content: center; }
      [data-responsive*="lg:justify-end"] { justify-content: flex-end; }
      [data-responsive*="lg:justify-between"] { justify-content: space-between; }
    }
  
}

@layer motion {
/* Motion keyframes will be generated by compiler */
}

@layer overrides {
/* User overrides */
}